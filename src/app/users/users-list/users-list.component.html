
<div class="table-container">
    <table class="security-table">
      <thead>
        <tr>
          <th class="hidden">User id</th>
          <th>Name</th>
          <th>Email</th>
          <th>Role</th>
          <th>Created at</th>
          <th>Action
            <button class="btn add-btn" (click)="onAdd()">Add</button>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td class="hidden">{{ user._id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.role }}</td>
          <td>{{ user.createdAt | date:'longDate' }}</td>
          <td class="action-buttons">
            <button class="btn update-btn" (click)="onEdit(user)">Update</button>
            <button class="btn delete-btn" (click)="onSelectForDeletion(user)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Modal for Editing -->
  <div class="modal" *ngIf="selectedUser">
    <div class="modal-content">
      <form (ngSubmit)="onUpdate()">
        <label>
            Name:
          <input [(ngModel)]="selectedUser.name" name="name">
        </label>
        <label>
            Email:
          <input [(ngModel)]="selectedUser.email" name="email">
        </label>
        <label>
            Role:
          <input [(ngModel)]="selectedUser.role" name="role">
        </label>
        <label>
            Created at:
          <input [(ngModel)]="selectedUser.createdAt " name="createdAt">
        </label>
      
        <div class="modal-buttons">
          <button type="submit">Save</button>
          <button type="button" (click)="onCancelEdit()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  
 <!-- Modal for Adding -->
 <div class="modal" *ngIf="isAddModalOpen">
  <div class="modal-content">
    <form (ngSubmit)="onAddNew()">
      <label>
        Name:
      <input [(ngModel)]="newUser.name" name="name"  required="">
    </label>
    <label>
        Email:
      <input [(ngModel)]="newUser.email" name="email"  required="">
    </label>
    <label>
      <input type="password" name="password" [(ngModel)]="newUser.password" placeholder="Password" required="">
    </label>
    <label>
        Role:
      <input [(ngModel)]="newUser.role" name="role">
    </label>
      <div class="modal-buttons">
        <button type="submit">Save</button>
        <button type="button" (click)="onCancelAdd()">Cancel</button>
      </div>
    </form>
  </div>
</div>


  <!-- Modal for Deletion Confirmation -->
  <div class="modal" *ngIf="selectedUserForDeletion">
    <div class="modal-content">
      <p>Are you sure you want to delete the following user?</p>
      <ul>
        <li>Name: {{ selectedUserForDeletion.name }}</li>
        <li>Email: {{ selectedUserForDeletion.email }}</li>
        <li>Role: {{ selectedUserForDeletion.role }}</li>
        <li>Created at: {{ selectedUserForDeletion.createdAt }}</li>
      </ul>
      <div class="modal-buttons">
        <button class="btn delete-btn" (click)="onDelete()">Delete</button>
        <button (click)="onCancelDelete()">Cancel</button>
      </div>
    </div>
  </div>
  